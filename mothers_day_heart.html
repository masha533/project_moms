<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–° –î–Ω—ë–º –º–∞—Ç–µ—Ä–∏!</title>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/p5.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Yeseva+One&display=swap" rel="stylesheet">
  <style>
    body{
      margin:0;display:flex;justify-content:center;align-items:center;
      height:100vh;background:#fff5f8;
    }
    canvas{
      border-radius:24px;box-shadow:0 8px 32px rgba(0,0,0,.2);
    }
  </style>
</head>
<body>
<script>
let t = 0;
let momImg;

function preload(){                 // –∑–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º
  momImg = loadImage('mom.JPG');    // –ø–æ–º–µ–Ω—è–π –∏–º—è, –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–∞—á–µ
}

function setup(){
  createCanvas(600,600);
  textAlign(CENTER,CENTER);
}

/* –ø—É—Ç—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ —Å–µ—Ä–¥–µ—á–∫–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏ –¥–ª—è –∫–ª–∏–ø–∞, –∏ –¥–ª—è –æ–±–≤–æ–¥–∫–∏ */
function heartPath(ctx, s){
  ctx.beginPath();
  for(let a=0;a<TWO_PI;a+=0.02){
    const x = 16*Math.pow(Math.sin(a),3) * s;
    const y = -(13*Math.cos(a) - 5*Math.cos(2*a) - 2*Math.cos(3*a) - Math.cos(4*a)) * s;
    ctx.lineTo(x, y);
  }
  ctx.closePath();
}

function draw(){
  background('#fff5f8');
  
  const ctx = drawingContext;
  const pulse = 1 + 0.05 * Math.sin(t*3);
  const scaleH = 9.5 * pulse;          // ¬´—Ä–∞–∑–º–µ—Ä¬ª —Å–µ—Ä–¥–µ—á–∫–∞
  
  push();
  translate(width/2, height/2 - 80);   // —á—É—Ç—å –≤—ã—à–µ —Ü–µ–Ω—Ç—Ä–∞
  
  /* ---------- –∫–ª–∏–ø –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ---------- */
  ctx.save();                          // —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–Ω–≤—ã
  heartPath(ctx, scaleH);              // —Ä–∏—Å—É–µ–º –∫–æ–Ω—Ç—É—Ä
  ctx.clip();                          // –≤—Å—ë –¥–∞–ª—å—à–µ ‚Äî –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–¥—Ü–∞
  
  // —Ä–∏—Å—É–µ–º —Ñ–æ—Ç–æ, –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—è –µ–≥–æ –ø–æ–¥ —à–∏—Ä–∏–Ω—É —Å–µ—Ä–¥—Ü–∞ (~32 * scaleH px)
  const w = scaleH * 32;
  imageMode(CENTER);
  image(momImg, 0, 0, w, w);           // –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π –æ–±—Ä–µ–∑–∫–∏ –æ–±—ã—á–Ω–æ —Ö–≤–∞—Ç–∞–µ—Ç
  ctx.restore();                       // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º
  
  /* ---------- –æ–±–≤–æ–¥–∫–∞ —Å–µ—Ä–¥—Ü–∞ ---------- */
  noFill();
  strokeWeight(4);
  stroke(lerpColor(color('#ff5fa2'), color('#ffbf00'), (Math.sin(t)+1)/2));
  beginShape();
  heartPath(ctx, scaleH);              // –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ –ø—É—Ç—å
  endShape();
  pop();
  
  /* ---------- –ø–æ–¥–ø–∏—Å—å ---------- */
  fill('#d81b60'); noStroke();
  textFont('Yeseva One'); textSize(26);
  text('–° –î–Ω—ë–º –º–∞—Ç–µ—Ä–∏,\n–º–∞–º–æ—á–∫–∞!\n–Ø —Ç–µ–±—è –ª—é–±–ª—é üíñ\n–≠—Ç–æ —Å–µ—Ä–¥–µ—á–∫–æ –¥–ª—è —Ç–µ–±—è –æ—Ç –ú—É—Å–∏',
       width/2, height/2 + 160);
  
  t += 0.02;
}
</script>
</body>
</html>
